<!DOCTYPE html>
<html>
  <head>
    <title>(Yet Another) X-Wing Miniatures Squad Builder</title>
    <meta charset='utf-8'>
    <link href='bootstrap/css/bootstrap.min.css' media='screen' rel='stylesheet'>
    <link href='fontawesome/css/font-awesome.min.css' media='screen' rel='stylesheet'>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <link href='select2-3.4.0/select2.css' rel='stylesheet'>
    <link href='stylesheets/xwing.css' media='screen,handheld' rel='stylesheet'>
    <link href='stylesheets/xwing-print.css' media='print' rel='stylesheet'>
    <link href='stylesheets/backgrounds.css?1371187606' rel='stylesheet'>
  </head>
  <body>
    <div class='tabbable hide-on-print'>
      <ul class='nav nav-pills'>
        <li>
          <a data-toggle='tab' href='#rebelContent' id='rebelTab'>Rebel Alliance</a>
        </li>
        <li>
          <a data-toggle='tab' href='#empireContent' id='empireTab'>Galactic Empire</a>
        </li>
        <li>
          <a data-toggle='tab' href='#browserContent' id='browserTab'>Card Browser</a>
        </li>
        <li>
          <a data-toggle='tab' href='#aboutContent' id='aboutTab'>About</a>
        </li>
        <li>
          <a href='#' id='auth-status'>
            <i class='icon-spinner icon-spin'></i>
            <span class='payload'></span>
          </a>
        </li>
        <li>
          <a class='hidden' href='#' id='login-logout'>
            <span class='hide-authenticated'>
              <i class='icon-signin hidden-phone hidden-tablet'></i>
              Log In
            </span>
            <span class='show-authenticated'>
              <i class='icon-signout hidden-phone hidden-tablet'></i>
              Log Out
            </span>
          </a>
        </li>
      </ul>
      <div class='tab-content'>
        <div class='tab-pane' id='rebelContent'>
          <div id='rebel-builder'></div>
        </div>
        <div class='tab-pane' id='empireContent'>
          <div id='empire-builder'></div>
        </div>
        <div class='tab-pane' id='browserContent'>
          <div id='card-browser'></div>
        </div>
        <div class='tab-pane' id='aboutContent'>
          <div class='container-fluid'>
            <div class='row-fluid'>
              <div class='span8'>
                <h2>(Yet Another) X-Wing Miniatures Squad Builder</h2>
                <p>
                  <p>This is a simple, fast, no-frills squad builder for <a href="http://www.fantasyflightgames.com/edge_minisite.asp?eidm=174&amp;enmi=X-Wing">X-Wing Miniatures</a> by <a href="http://www.fantasyflightgames.com/index.asp">Fantasy Flight Games</a>.  It is pure HTML, JavaScript, and CSS and requires no backend, and can be dropped into place on any website (with maybe a few CSS tweaks).</p>
                  
                  <p>Icons and fonts courtesy GeckoTH's excellent PSD, available on <a href="http://www.afewmaneuvers.com/forums/viewtopic.php?f=28&amp;t=183">A Few Maneuvers</a>.</p>
                  
                  <p>Interested in playing with the source or contributing features or bug fixes?  <a href="http://github.com/geordanr/xwing">Fork it on GitHub</a>.  (Issues can also be filed via GitHub.)</p>
                  
                  <p>A backend is available if the ability to save squadrons is needed; it can be <a href="http://github.com/geordanr/xwing-backend">forked on GitHub here</a>.</p>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class='show-on-print' id='printable'></div>
    <script src='javascripts/jquery-1.8.3.min.js'></script>
    <script src='bootstrap/js/bootstrap.min.js'></script>
    <script src='select2-3.4.0/select2.min.js'></script>
    <script src='javascripts/cards.min.js?1371187606'></script>
    <script src='javascripts/xwing.min.js?1371187606'></script>
    <script src='javascripts/backend.min.js?1371187606'></script>
    <script src='javascripts/browser.min.js?1371187606'></script>
    <script>
      (function() {
        $(document).ready(function() {
          window.rebel_sb = new window.SquadBuilder({
            faction: 'Rebel Alliance',
            container: '#rebel-builder',
            printable_container: '#printable'
          });
          window.empire_sb = new window.SquadBuilder({
            faction: 'Galactic Empire',
            container: '#empire-builder',
            printable_container: '#printable'
          });
          switch ($.getParameterByName('f')) {
            case 'Rebel Alliance':
              $('#rebelTab').click();
              break;
            case 'Galactic Empire':
              $('#empireTab').click();
              break;
            default:
              $('#rebelTab').click();
          }
          window.backend = new SquadBuilderBackend({
            server: 'https://yasb-backend.herokuapp.com',
            builders: [window.rebel_sb, window.empire_sb],
            login_logout_button: '#login-logout',
            auth_status: '#auth-status'
          });
          return window.browser = new CardBrowser({
            container: '#card-browser'
          });
        });
      
      }).call(this);
    </script>
  </body>
</html>
